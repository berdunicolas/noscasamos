const url="./pdf/example.pdf";let pdfDoc=null,pageNum=1,pageRendering=!1,pageNumPending=null,scale=1.5,zoomRange=.25,canvas=document.getElementById("the-canvas"),ctx=canvas.getContext("2d");function renderPage(e){pageRendering=!0,pdfDoc.getPage(e).then(function(e){var n=e.getViewport({scale:scale}),n=(canvas.width=n.width,canvas.height=n.height,{canvasContext:ctx,viewport:n});const t=e.render(n);t.promise.then(function(){pageRendering=!1,null!==pageNumPending&&(renderPage(pageNumPending),pageNumPending=null)})}),document.getElementById("page_num").value=e}function queueRenderPage(e){pageRendering?pageNumPending=e:renderPage(e)}function onPrevPage(){1<pageNum&&queueRenderPage(--pageNum)}function onNextPage(){pageNum<pdfDoc.numPages&&queueRenderPage(++pageNum)}function onZoomIn(){scale+=zoomRange,queueRenderPage(pageNum)}function onZoomOut(){scale>zoomRange&&(scale-=zoomRange,queueRenderPage(pageNum))}function onZoomFit(){scale=1,queueRenderPage(pageNum)}document.getElementById("prev").addEventListener("click",onPrevPage),document.getElementById("next").addEventListener("click",onNextPage),document.getElementById("zoomin").addEventListener("click",onZoomIn),document.getElementById("zoomout").addEventListener("click",onZoomOut),document.getElementById("zoomfit").addEventListener("click",onZoomFit),pdfjsLib.getDocument(url).promise.then(function(e){pdfDoc=e,document.getElementById("page_count").textContent="/ "+pdfDoc.numPages,document.getElementById("page_num").addEventListener("change",function(){var e=Number(this.value);1<=e&&e<=pdfDoc.numPages&&queueRenderPage(pageNum=e)}),renderPage(pageNum)});